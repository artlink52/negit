(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{3828:(e,s,t)=>{Promise.resolve().then(t.bind(t,7982))},7982:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var n=t(5155),l=t(2115),r=t(4112),a=t(9606),o=t(767);function i(e){let{onClose:s}=e,{register:t,handleSubmit:i,formState:{errors:c}}=(0,a.mN)(),[m,d]=(0,l.useState)(""),u=async e=>{if(!m){alert("Пожалуйста, подтвердите, что вы не робот.");return}try{(await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,captchaToken:m})})).ok?(alert("Сообщение отправлено!"),s()):alert("Ошибка при отправке сообщения.")}catch(e){console.error("Ошибка:",e),alert("Произошла ошибка. Попробуйте позже.")}};return(0,n.jsxs)("form",{onSubmit:i(u),className:"relative bg-white max-w-lg mx-auto p-6 rounded-lg shadow-lg space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold",children:"Обратная связь"}),(0,n.jsx)("button",{type:"button",onClick:s,className:"text-gray-600 hover:text-orange-600",children:(0,n.jsx)(o.A,{size:24})})]}),(0,n.jsx)("p",{className:"text-gray-500 mb-4",children:"Оставьте сообщение, и мы обязательно свяжемся с Вами"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium",children:"Имя"}),(0,n.jsx)("input",{...t("name",{required:"Имя обязательно"}),type:"text",className:"w-full p-3 mt-1 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-orange-500"}),c.name&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.name.message})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium",children:"E-mail"}),(0,n.jsx)("input",{...t("email",{required:"Email обязателен",pattern:{value:/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,message:"Некорректный email"}}),type:"email",className:"w-full p-3 mt-1 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-orange-500"}),c.email&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.email.message})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium",children:"Ваше сообщение"}),(0,n.jsx)("textarea",{...t("message",{required:"Сообщение обязательно"}),className:"w-full p-3 mt-1 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-orange-500"}),c.message&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c.message.message})]}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)(r.A,{sitekey:"6LffCI4qAAAAAP3jRcO45WNQAfiI_hznVcukDQBZ",onChange:e=>{d(e||"")}})}),(0,n.jsx)("button",{type:"submit",className:"bg-orange-500 hover:bg-orange-600 text-white p-3 rounded-lg w-full transition-colors mt-4",children:"Отправить"})]})}function c(e){let{isOpen:s,onClose:t,children:r}=e;return((0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return s&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}},[s,t]),s)?(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 z-50",children:(0,n.jsx)("div",{className:"bg-white rounded-lg m-6 shadow-lg relative max-w-lg w-full mx-4",children:r})}):null}function m(e){let{isOpen:s,onClose:t}=e;return(0,n.jsxs)(c,{isOpen:s,onClose:t,children:[(0,n.jsx)(i,{onClose:t})," "]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[461,441,517,358],()=>s(3828)),_N_E=e.O()}]);