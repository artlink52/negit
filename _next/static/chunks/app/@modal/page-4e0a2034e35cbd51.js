(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{3828:(e,s,t)=>{Promise.resolve().then(t.bind(t,7982))},7982:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(5155),n=t(2115),a=t(4112),o=t(9606),i=t(767),l=t(4505),d=t(8199),c=t(5037);function m(e){let{onClose:s}=e,{register:t,handleSubmit:m,formState:{errors:u}}=(0,o.mN)(),[x,f]=(0,n.useState)(""),[g,h]=(0,n.useState)(!1),b=async e=>{if(!x){c.oR.error("Пожалуйста, подтвердите, что вы не робот.");return}h(!0);try{(await fetch("/negit/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,captchaToken:x})})).ok?(c.oR.success("Сообщение успешно отправлено! Мы свяжемся с Вами в ближайшее время."),setTimeout(s,1e3)):c.oR.error("Ошибка при отправке сообщения.")}catch(e){console.error("Ошибка:",e),c.oR.error("Произошла ошибка. Попробуйте позже.")}finally{h(!1)}};return(0,r.jsxs)("form",{onSubmit:m(b),className:"relative bg-white max-w-lg mx-auto p-6 rounded-lg shadow-lg space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Обратная связь"}),(0,r.jsx)("button",{type:"button",onClick:s,className:"text-gray-600 hover:text-orange-600",children:(0,r.jsx)(i.A,{size:24})})]}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:"Оставьте сообщение, и мы обязательно свяжемся с Вами"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium",children:"Имя"}),(0,r.jsx)("input",{...t("name",{required:"Имя обязательно"}),type:"text",className:"w-full p-3 mt-1 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-orange-500"}),u.name&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.name.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium",children:"E-mail"}),(0,r.jsx)("input",{...t("email",{required:"Email обязателен",pattern:{value:/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,message:"Некорректный email"}}),type:"email",className:"w-full p-3 mt-1 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-orange-500"}),u.email&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium",children:"Ваше сообщение"}),(0,r.jsx)("textarea",{...t("message",{required:"Сообщение обязательно"}),className:"w-full p-3 mt-1 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-orange-500"}),u.message&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.message.message})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(a.A,{sitekey:"6LepdJwqAAAAAF_DVpf5clXg1R2J5_QCThIA1IFk",onChange:e=>{f(e||"")}})}),(0,r.jsx)(d.$,{type:"submit",className:"w-full mt-4",disabled:g,children:g?(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,r.jsx)(l.A,{className:"animate-spin",size:20}),(0,r.jsx)("span",{children:"Отправка..."})]}):"Отправить"})]})}function u(e){let{isOpen:s,onClose:t,children:a}=e;return((0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return s&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}},[s,t]),s)?(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 z-50",children:(0,r.jsx)("div",{className:"bg-white rounded-lg m-6 shadow-lg relative max-w-lg w-full mx-4",children:a})}):null}function x(e){let{isOpen:s,onClose:t}=e;return(0,r.jsxs)(u,{isOpen:s,onClose:t,children:[(0,r.jsx)(m,{onClose:t})," "]})}},8199:(e,s,t)=>{"use strict";t.d(s,{$:()=>c});var r=t(5155),n=t(2115),a=t(1290),o=t(652),i=t(3463),l=t(9795);let d=(0,o.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,s)=>{let{className:t,variant:n,size:o,asChild:c=!1,...m}=e,u=c?a.DX:"button";return(0,r.jsx)(u,{className:function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,l.QP)((0,i.$)(s))}(d({variant:n,size:o,className:t})),ref:s,...m})});c.displayName="Button"}},e=>{var s=s=>e(e.s=s);e.O(0,[627,665,441,517,358],()=>s(3828)),_N_E=e.O()}]);